<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MH Site Record</title>
    <link rel="stylesheet" href="people.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="time" id="currentTime"></div>
            <h1><i class="fas fa-angle-left" id="backBtn" style="cursor: pointer;"></i> MH Site Record</h1>
        </header>

        <form>
            <!-- 工作工人部分 -->
            <section class="section">
                <h2>工作工人</h2>
                
                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">男什工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">女什工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">泥工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">石屎工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">木工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">喉工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">焊工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">大偈</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">機手</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">司機</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item">
                    <div class="worker-header">
                        <span class="worker-name">開關水制工</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>

                <div class="worker-item other-worker">
                    <div class="worker-header">
                        <input type="text" class="other-input" placeholder="请输入工种">
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="quantity" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="time-group">
                        <span class="label">工作时间：</span>
                        <input type="datetime-local" class="time-start">
                        <span class="separator">至</span>
                        <input type="datetime-local" class="time-end">
                    </div>
                </div>
            </section>

            <!-- 使用机械部分 -->
            <section class="section">
                <h2>使用机械</h2>
                
                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">貨車</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">吊車</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">2"水泵</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">4"/6"水素</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">電泵</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">發電機</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">大發電機</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">照明燈</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">挖泥機</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">風機</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">焊機</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">風煤</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>

                <div class="machine-item">
                    <div class="machine-header">
                        <span class="machine-name">夾車</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                    <div class="hours-group">
                        <span class="label">工作时间(h)：</span>
                        <button type="button" class="btn-minus">-</button>
                        <input type="number" class="hours" value="0" min="0" step="0.5">
                        <button type="button" class="btn-plus">+</button>
                    </div>
                </div>
            </section>

            <!-- 熗调牌部分 -->
            <section class="section">
                <h2>熗调牌</h2>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">公众道歉牌</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="size-group">
                            <span class="label">大小：</span>
                            <label class="option-item">
                                <input type="radio" name="size1" value="large">
                                <span class="custom-checkbox"></span> 
                                <span class="option-text">大</span>
                            </label>
                            <label class="option-item">
                                <input type="radio" name="size1" value="small">
                                <span class="custom-checkbox"></span>
                                <span class="option-text">小</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">(路面)停工牌</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="size-group">
                            <span class="label">大小：</span>
                            <label class="option-item">
                                <input type="radio" name="size2" value="large">
                                <span class="custom-checkbox"></span>
                                <span class="option-text">大</span>
                            </label>
                            <label class="option-item">
                                <input type="radio" name="size2" value="small">
                                <span class="custom-checkbox"></span>
                                <span class="option-text">小</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">(掘坑)停工牌</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="size-group">
                            <span class="label">大小：</span>
                            <label class="option-item">
                                <input type="radio" name="size3" value="large">
                                <span class="custom-checkbox"></span>
                                <span class="option-text">大</span>
                            </label>
                            <label class="option-item">
                                <input type="radio" name="size3" value="small">
                                <span class="custom-checkbox"></span>
                                <span class="option-text">小</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">閃燈</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">雪糕筒</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">鐵攔河</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">圓型交通牌</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">三角型交通牌</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">交通燈</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">方型交通牌</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">膠欄河</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">水馬</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">箭嘴燈車</span>
                        <div class="quantity-group">
                            <span class="label">数量（架）：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="empty-group">
                            <!-- 空白区域 -->
                        </div>
                    </div>
                </div>

                <div class="sign-item">
                    <div class="sign-header">
                        <span class="sign-name">箭嘴燈架</span>
                        <div class="quantity-group">
                            <span class="label">数量：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="qty" value="0" min="0">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                        <div class="days-group">
                            <span class="label">工作天数(日)：</span>
                            <button type="button" class="btn-minus">-</button>
                            <input type="number" class="days" value="0" min="0" step="0.5">
                            <button type="button" class="btn-plus">+</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 导航按钮 -->
            <div class="footer">
                <button type="button" class="btn-prev" id="prevBtn">
                    <i class="fas fa-angle-left"></i> 上一页
                </button>
                <button type="button" class="btn-next" id="nextBtn">
                    完成 <i class="fas fa-angle-right"></i>
                </button>
            </div>
        </form>
    </div>

    <script>
        // 0. 会话管理 - 检测页面刷新并清空数据
        function initSessionManagement() {
            // 使用 performance.navigation.type 检测页面加载类型
            const navigationType = performance.navigation ? performance.navigation.type :
                                 (performance.getEntriesByType('navigation')[0] ?
                                  performance.getEntriesByType('navigation')[0].type : 'navigate');

            // 检测是否为刷新
            const isRefresh = navigationType === 1 || navigationType === 'reload';

            if (isRefresh) {

                // 清空localStorage
                localStorage.removeItem('indexFormData');
                localStorage.removeItem('typeFormData');
                localStorage.removeItem('peopleFormData');
                localStorage.removeItem('sessionId');

                // 重置页面表单
                resetPageForm();

                return true; // 返回true表示发生了刷新
            } else {
                // 正常导航，生成或维持会话ID
                let sessionId = localStorage.getItem('sessionId');
                if (!sessionId) {
                    sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    localStorage.setItem('sessionId', sessionId);
                }
                return false; // 返回false表示正常导航
            }
        }

        // 重置页面表单
        function resetPageForm() {
            // 重置所有数量输入框
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.value = '0';
            });

            // 重置所有时间输入框
            document.querySelectorAll('input[type="datetime-local"]').forEach(input => {
                input.value = '';
            });

            // 重置所有文本输入框（如"其他"工种）
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });

            // 重置所有单选按钮
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });


        }

        // 页面导航时保持会话
        function maintainSession() {
            let sessionId = localStorage.getItem('sessionId');
            if (!sessionId) {
                sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('sessionId', sessionId);
            }
        }

        // 更新时间显示
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('zh-CN', {
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
            const dateStr = now.toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit'
            }).replace(/\//g, '-');

            const timeElement = document.getElementById('currentTime');
            if (window.innerWidth <= 768) {
                timeElement.textContent = timeStr;
            } else {
                timeElement.textContent = `${dateStr} ${timeStr}`;
            }
        }

        updateTime();
        setInterval(updateTime, 60000);
        window.addEventListener('resize', updateTime);

        // 数量增减按钮功能
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn-minus') || e.target.classList.contains('btn-plus')) {
                const isPlus = e.target.classList.contains('btn-plus');
                const group = e.target.parentElement;
                const input = group.querySelector('.quantity, .qty, .hours, .days');

                if (input) {
                    let value = parseFloat(input.value) || 0;
                    const step = parseFloat(input.step) || 1;
                    const min = parseFloat(input.min) || 0;

                    if (isPlus) {
                        value += step;
                    } else {
                        value = Math.max(value - step, min);
                    }

                    input.value = step === 0.5 ? value.toFixed(1) : value;
                }
            }
        });

        // 数据保存功能
        function savePeopleFormData() {
            const formData = {
                workers: [],
                machines: [],
                signs: []
            };

            // 保存工作工人数据
            document.querySelectorAll('.worker-item').forEach(item => {
                const nameElement = item.querySelector('.worker-name');
                const otherInput = item.querySelector('.other-input');
                const quantityInput = item.querySelector('.quantity');
                const startTimeInput = item.querySelector('.time-start');
                const endTimeInput = item.querySelector('.time-end');

                if ((nameElement || otherInput) && quantityInput) {
                    const quantity = quantityInput.value || '0';
                    const startTime = startTimeInput ? startTimeInput.value || '' : '';
                    const endTime = endTimeInput ? endTimeInput.value || '' : '';
                    const workerType = nameElement ? nameElement.textContent.trim() : '';
                    const otherType = otherInput ? otherInput.value.trim() : '';

                    if (quantity !== '0' || startTime || endTime || otherType) {
                        formData.workers.push({
                            type: workerType || otherType,
                            quantity: quantity,
                            startTime: startTime,
                            endTime: endTime,
                            other: otherType
                        });
                    }
                }
            });

            // 保存机械数据
            document.querySelectorAll('.machine-item').forEach(item => {
                const nameElement = item.querySelector('.machine-name');
                const quantityInput = item.querySelector('.qty');
                const hoursInput = item.querySelector('.hours');

                if (nameElement && quantityInput && hoursInput) {
                    const quantity = quantityInput.value || '0';
                    const hours = hoursInput.value || '0';

                    if (quantity !== '0' || hours !== '0') {
                        formData.machines.push({
                            type: nameElement.textContent.trim(),
                            quantity: quantity,
                            hours: hours
                        });
                    }
                }
            });

            // 保存标牌数据
            document.querySelectorAll('.sign-item').forEach(item => {
                const nameElement = item.querySelector('.sign-name');
                const quantityInput = item.querySelector('.qty');
                const daysInput = item.querySelector('.days');
                const sizeRadio = item.querySelector('input[type="radio"]:checked');

                if (nameElement && quantityInput) {
                    const quantity = quantityInput.value || '0';
                    const days = daysInput ? daysInput.value || '0' : '0';
                    const size = sizeRadio ? sizeRadio.value : '';

                    if (quantity !== '0' || days !== '0') {
                        formData.signs.push({
                            type: nameElement.textContent.trim(),
                            quantity: quantity,
                            days: days,
                            size: size
                        });
                    }
                }
            });

            localStorage.setItem('peopleFormData', JSON.stringify(formData));
        }

        // 加载保存的数据
        function loadPeopleFormData() {
            const savedData = localStorage.getItem('peopleFormData');
            if (savedData) {
                const formData = JSON.parse(savedData);
                console.log('加载people页面数据:', formData);

                // 恢复工作工人数据
                if (formData.workers) {
                    formData.workers.forEach(worker => {
                        const items = document.querySelectorAll('.worker-item');
                        items.forEach(item => {
                            const nameElement = item.querySelector('.worker-name');
                            const otherInput = item.querySelector('.other-input');

                            if ((nameElement && nameElement.textContent.trim() === worker.type) ||
                                (otherInput && worker.other)) {
                                const quantityInput = item.querySelector('.quantity');
                                const startTimeInput = item.querySelector('.time-start');
                                const endTimeInput = item.querySelector('.time-end');

                                if (quantityInput) quantityInput.value = worker.quantity || '0';
                                if (startTimeInput) startTimeInput.value = worker.startTime || '';
                                if (endTimeInput) endTimeInput.value = worker.endTime || '';
                                if (otherInput && worker.other) otherInput.value = worker.other;
                            }
                        });
                    });
                }

                // 恢复机械数据
                if (formData.machines) {
                    formData.machines.forEach(machine => {
                        const items = document.querySelectorAll('.machine-item');
                        items.forEach(item => {
                            const nameElement = item.querySelector('.machine-name');
                            if (nameElement && nameElement.textContent.trim() === machine.type) {
                                const quantityInput = item.querySelector('.qty');
                                const hoursInput = item.querySelector('.hours');

                                if (quantityInput) quantityInput.value = machine.quantity || '0';
                                if (hoursInput) hoursInput.value = machine.hours || '0';
                            }
                        });
                    });
                }

                // 恢复标牌数据
                if (formData.signs) {
                    formData.signs.forEach(sign => {
                        const items = document.querySelectorAll('.sign-item');
                        items.forEach(item => {
                            const nameElement = item.querySelector('.sign-name');
                            if (nameElement && nameElement.textContent.trim() === sign.type) {
                                const quantityInput = item.querySelector('.qty');
                                const daysInput = item.querySelector('.days');
                                const sizeRadio = item.querySelector(`input[value="${sign.size}"]`);

                                if (quantityInput) quantityInput.value = sign.quantity || '0';
                                if (daysInput) daysInput.value = sign.days || '0';
                                if (sizeRadio) sizeRadio.checked = true;
                            }
                        });
                    });
                }
            }
        }

        // 返回按钮功能
        document.getElementById('backBtn').addEventListener('click', function() {
            savePeopleFormData();
            maintainSession(); // 维持会话
            window.location.href = 'type.html';
        });

        // 导航按钮功能
        document.getElementById('prevBtn').addEventListener('click', function() {
            savePeopleFormData();
            maintainSession(); // 维持会话
            window.location.href = 'type.html';
        });

        document.getElementById('nextBtn').addEventListener('click', function() {
            savePeopleFormData();
            maintainSession(); // 维持会话
            window.location.href = 'summary.html';
        });

        // 页面加载时恢复数据
        document.addEventListener('DOMContentLoaded', function() {
            const wasRefreshed = initSessionManagement(); // 先检查会话
            if (!wasRefreshed) {
                loadPeopleFormData(); // 只有在非刷新情况下才加载数据
            }
        });

        // 实时保存数据
        document.addEventListener('input', savePeopleFormData);
        document.addEventListener('change', savePeopleFormData);
    </script>
</body>
</html>
